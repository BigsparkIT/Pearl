(()=>{"use strict";const e=window.React,t=window.wp.i18n,o=window.wp.blocks,a=window.wp.blockEditor,r=window.wp.components,l=JSON.parse('{"UU":"pearl/product-iframe"}'),n=window.ReactJSXRuntime,s=`bs-${Date.now()+Math.floor(1e3*Math.random())}`;function p(e,t,o,a){const r=pearlSettings.platformName;return"http://localhost:3000/in-article-widget?productId="+encodeURIComponent(e||"")+"&platformName="+encodeURIComponent(r)+"&offerType="+encodeURIComponent(t)+"&showOfferTypeSelector="+encodeURIComponent(o)+"&widgetId="+encodeURIComponent(a)}(0,o.registerBlockType)(l.UU,{edit:function({attributes:o,setAttributes:l}){const{productId:i,offerType:c,showOfferTypeSelector:d,widgetId:u}=o;l({widgetId:s}),l({productId:19299});const[h,f]=(0,e.useState)("Smartphones"),w=p(i,c,d,u);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.InspectorControls,{children:(0,n.jsxs)(r.PanelBody,{title:(0,t.__)("Settings","pearl"),children:[(0,n.jsx)(r.SelectControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,t.__)("Categorie","pearl"),value:h,options:[{label:"Smartphones",value:"Smartphones"},{label:"Smartwatches",value:"Smartwatches"},{label:"PCs",value:"PCs"},{label:"Laptops",value:"Laptops"},{label:"Mediaspelers",value:"Mediaspelers"},{label:"Mp3",value:"Mp3"},{label:"Oordopjes",value:"Oordopjes"},{label:"Tablets",value:"Tablets"}],onChange:function(e){f(e),"Smartphones"!==e&&l({offerType:"product"})}}),"Smartphones"===h&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.RadioControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,t.__)("Offer type","pearl"),selected:c,options:[{label:"Product",value:"product"},{label:"Package",value:"package"}],onChange:e=>l({offerType:e})}),(0,n.jsx)(r.ToggleControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,checked:!!d,label:(0,t.__)("Maak het mogelijk om te switchen van offer type?","pearl"),onChange:()=>l({showOfferTypeSelector:!d})})]}),(0,n.jsx)(r.TextControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,t.__)("Product ID","pearl"),value:i||"",placeholder:(0,t.__)("Voer product ID in...","pearl"),onChange:e=>l({productId:e})})]})}),!i&&(0,n.jsx)("p",{...(0,a.useBlockProps)(),children:(0,t.__)("Fill in a product ID to see a preview","pearl")}),i&&(0,n.jsxs)("div",{...(0,a.useBlockProps)(),children:[(0,n.jsx)("p",{children:(0,t.__)("Preview:","pearl")+w}),(0,n.jsx)("iframe",{src:w,width:"100%",height:"1200"})]})]})},save:function({attributes:e}){const{productId:t,offerType:o,showOfferTypeSelector:r,widgetId:l}=e,s=p(t,o,r,l);return(0,n.jsx)("div",{...a.useBlockProps.save(),children:(0,n.jsx)("iframe",{src:s,width:"100%",height:"1200"})})}})})();